function checkPicks(){var e=($("#nWeekID").val(),{});$("#nUserID option").removeClass("alert alert-success alert-danger"),$("#nUserID").children("option").each(function(){e[$(this).data("id")]=0}),$.post("/?action=pick.hasPicks",{stData:$.toJSON(e),nCheckWeekID:$("#nWeekID").val()},function(e){$("#nUserID").children("option").each(function(){e[$(this).data("id")]?$(this).addClass("alert alert-success"):$(this).addClass("alert alert-danger")})},"json")}docReady(function(){$(".page-controls").on("click",".make-changes",function(){$(".make-changes").addClass("hidden"),$(".page-controls .cancel, .page-controls .save").removeClass("hidden"),$(".game:not('.locked')").children(".picks").addClass("hidden"),$(".game:not('.locked')").children(".change").removeClass("hidden"),$(".game:not('.locked')").children(".picks .disabled").removeClass("disabled"),$("th.picks").addClass("hidden"),$("th.change").removeClass("hidden")}),$(".page-controls").on("click",".cancel",function(){confirm("Are you sure you want to cancel changes?")&&(window.location.href="/?action=pick.set&nWeekID="+$("#picks").data("id"))}),$(".game").on("click","button",function(){$(this).hasClass("disabled")||($(".page-controls .save").removeClass("disabled"),$(this).closest("tr").removeClass("btn-danger"),$(this).closest("tr").find(".pick").removeClass("pick btn-success").addClass("btn-default"),$(this).removeClass("btn-default").addClass("pick btn-success"))}),$(".page-controls").on("click",".save:not('.disabled')",function(){var e={},a=!0;$(".game:not('.locked')").each(function(){0==$(this).find(".pick").length?($(this).addClass("alert alert-danger"),alert("Please make sure all weeks have a selection"),$(this).focus(),a=!1):e[$(this).data("id")]=$(this).find(".pick").data("id")}),a&&$.post("/index.cfm?action=pick.save",{nWeekID:$("#picks").data("id"),stPicks:$.toJSON(e)},function(e){window.location.href="/?action=pick.set&bSaved=true&nWeekID="+$("#picks").data("id")})}),$("#bulk").on("click","button",function(){var e=/[\n\r]/g,a=$("#sPicks").val().replace(e,",");","==a.substr(a.length-1)&&(a=a.substring(0,a.length-1)),$.post("/?action=pick.bulk",{bDoSave:!0,lstPicks:a,nWeekID:$("#nWeekID").val(),nUserID:$("#nUserID").val()},function(e){setMessage(e),checkPicks(),$("#sPicks").val(""),$("#nUserID").val("")})}),$("#bulk").on("change","#nWeekID",function(){checkPicks()}),$("#compare").on("click",function(){window.location.href="/?action=pick.compare&nWeekID="+$("h3").data("id")+"&nViewUserID="+$("#nUserID").val()}),$(".game-info").on("click",function(){window.location.href="/?action=pick.gameInfo&nWeekID="+$(this).closest("tr").data("nweekid")+"&nGameID="+$(this).closest("tr").data("id")}),$(".stats").on("click",function(){window.location.href="/?action=pick.stats&nGameID="+$("#nGameID").val()}),$(".stats-info").on("click",function(){getModalContent("pick.stats",{nGameID:$(this).closest("tr").data("id")})})});
//# sourceMappingURL=maps/pick.min.js.map