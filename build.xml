<project name="Pickem" default="dist">
  <description>
    Copys files to deployment directory based on parameters
  </description>
  <!-- set global properties for this build -->
  <property environment="env"/> 
  <property file="build-${env.DEPLOY_TO}.properties" />

  <!-- output which properties file we are using -->
  <echo message="Using ${env.DEPLOY_TO} properties file"/>

  <target name="deploy" description="Copy files to deploy folder.">
      <copy todir="${deploy.dir}">
          <fileset dir="${env.WORKSPACE}">
              <include name="**" />
              <exclude name="**/_*/**" /> <!-- ignore files/folders starting with underscore -->
              <exclude name="**/.svn" />
              <exclude name="**/.git" />
              <exclude name="build*" /> <!-- // ignore all of the build specific files -->
          </fileset>
      </copy>
  </target>

  <target name="cleanup" description="Clean up the workspace directory">
      <delete includeemptydirs="true">
        <fileset dir="${env.WORKSPACE}" includes="**/.svn/" defaultexcludes="false"/>
      </delete>
  </target>
</project>